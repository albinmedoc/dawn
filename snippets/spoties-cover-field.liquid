{% comment %}
    Renders the spoties cover field for a product

    Accepts:
    - product: {Object} Product Liquid object
    - form_id: {String} Id of the product form
    - section: {Object} 

    Usage:
    {% render 'spoties-cover-field' product: product, form_id: product_form_id, section: section %}
{% endcomment %}

<spoties-cover-field>
    <input
        type="file"
        id="{{ section.id }}-cover-upload"
        accept="image/png, image/jpeg"
    >
    <div class="spoties__option">
        <label for="{{ section.id }}-cover-upload">Omslagsbild</label>
        <div>
            <label for="{{ section.id }}-cover-upload">Välj bild</label>
            <modal-opener class="product-popup-modal__opener no-js-hidden" data-modal="#SpotiesModal-Preview">
                <img loading="lazy" role="button" aria-haspopup="dialog">
            </modal-opener>
        </div>
        <spoties-option-errors></spoties-option-errors>
    </div>
    <modal-dialog id="SpotiesModal-Edit" class="product-popup-modal">
        <div role="dialog" aria-label="Redigering av omslagsbild" aria-modal="true" class="product-popup-modal__content" tabindex="-1">
            <button id="ModalClose-SpotiesEdit" type="button" class="product-popup-modal__toggle" aria-label="{{ 'accessibility.close' | t }}">{% render 'icon-checkmark' %}</button>
            <div>
                <img loading="lazy">
            </div>
        </div>
    </modal-dialog>
    <modal-dialog id="SpotiesModal-Preview" class="product-popup-modal">
        <div role="dialog" aria-label="Förhandsvisning av omslagsbild" aria-modal="true" class="product-popup-modal__content" tabindex="-1">
            <button id="ModalClose-SpotiesPreview" type="button" class="product-popup-modal__toggle" aria-label="{{ 'accessibility.close' | t }}">{% render 'icon-close' %}</button>
            <div>
                <img loading="lazy">
            </div>
        </div>
    </modal-dialog>
</spoties-cover-field>